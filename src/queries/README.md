Queries
=======

## Getting Started

```javascript
// Create queries using a query builder syntax.

var queryA = racer.query('users').where('name').equals('Brian');
var queryB = racer.query('users').byKey('some-uuid');
var queryC = racer.query('blogs').where('authorId').equals(userId);
var queryD = racer.query('items').where('tags').in(['derby', 'racer']);

// The code above only builds queries but does not run them. To run them,
// we pass the queries to `store.subscribe` and `store.fetch`

// This will subscribe a model to any results that match queryA, queryB,
// or queryC even if those result sets dynamically change over time. The
// developer need not worry about figuring out which documents to add or
// remove from the model. Racer will automatically figure this out and
// automatically add this to the model, updating any bindings in realtime.

model.subscribe(queryA, queryB, queryC, function (err, resA, resB, resC) {
  // Declare a ref, so we can bind results via private path '_resultsA'
  model.ref('_resultsA', resA); // `resA` is a model alias

  model.ref('_resultsB', resB); // `resB` is a model alias

  model.ref('_resultsC', resC); // `resC` is a model alias
});

// The following will fetch the results of queryD from the store but will
// not automatically keep those results dynamically up-to-date.

model.fetch(queryD, function (err, resD) {

  console.log(resD.get()); // log the results

});

// You can also query data already loaded into the browser.
// Notice how the function signature has no asynchronous callback, but
// instead returns the results synchronously.

var resD = model.query('users').where('age').gte(25).find();

// resD will be a model alias.

console.log(resD.get());

// You can also pass queries built in this way to `model.subscribe` and
// `model.fetch`
```

## Architecture

- QueryBuilder: A fluent interface to build query json objects.
- Filter: Can test that a document satisfies a filter function generated by a
  query json object.
- MemoryQuery:
- QueryCoordinator:
- QueryHub
- QueryNode
- PaginatedQueryNode
